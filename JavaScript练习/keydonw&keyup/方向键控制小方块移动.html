<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    #box{
        width: 50px;
        height: 50px;
        position: absolute;
        background: #ff4500;
    }</style>
</head>

<body>
    <div id="box"></div>
    <script>
        const box = document.querySelector('#box');
        let o = {} //四个方向 按下未true
        let timer = null;
        document.onkeydown = (ev) => {
            o[ev.keyCode] = true;
            if (timer) return;
            timer = setInterval(() => {
                if (o[37]) {
                    box.style.left = box.offsetLeft - 1 + 'px'
                }
                if (o[38]) {
                    box.style.top = box.offsetTop - 1 + 'px';
                }

                if (o[39]) {
                    box.style.left = box.offsetLeft + 1 + 'px';
                }
                if (o[40]) {
                    box.style.top = box.offsetTop + 1 + 'px';
                }
            }, 30)
        }
        document.onkeyup = function (ev) {

            o[ev.keyCode] = false;

            if (!o[37] && !o[38] && !o[39] && !o[40]) {
                clearInterval(timer);
                timer = null;
            }

        }
    </script>
</body>

</html>